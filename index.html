<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gobindapur Govt. High School</title>

<style>
body{margin:0;font-family:Arial;background:#f4f6f8}
.hero{position:relative;height:220px}
.hero img{width:100%;height:100%;object-fit:cover}
.hero-text{position:absolute;inset:0;background:rgba(0,0,0,.55);color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center}
nav{background:#084298;padding:10px;text-align:center}
nav button{background:#0b5ed7;color:#fff;border:none;padding:10px 16px;margin:4px;border-radius:20px;font-size:14px}
.container{padding:15px}
.card{background:#fff;padding:15px;border-radius:12px;box-shadow:0 3px 6px rgba(0,0,0,.15);margin-bottom:15px}
select,input,button{width:100%;padding:10px;margin:6px 0}
.admin{background:#eef;padding:10px;border-radius:10px;margin-top:10px}
.list li{margin:6px 0}
.list button{background:red;color:#fff;border:none;border-radius:12px;padding:4px 10px}
.fade{animation:fade .5s}
@keyframes fade{from{opacity:0;transform:scale(.95)}to{opacity:1}}
footer{background:#0b5ed7;color:#fff;text-align:center;padding:10px}
</style>
</head>

<body>

<header class="hero">
  <img src="school.jpg">
  <div class="hero-text">
    <h1>Gobindapur Govt. High School</h1>
    <p>Official School Website</p>
  </div>
</header>

<nav>
<button onclick="show('notice')">ğŸ“¢ à¦¨à§‹à¦Ÿà¦¿à¦¶</button>
<button onclick="show('news')">ğŸ“° à¦–à¦¬à¦°</button>
<button onclick="show('student')">ğŸ‘¨â€ğŸ“ à¦¶à¦¿à¦•à§à¦·à¦¾à¦°à§à¦¥à§€</button>
<button onclick="show('teacher')">ğŸ‘©â€ğŸ« à¦¶à¦¿à¦•à§à¦·à¦•</button>
<button onclick="show('result')">ğŸ“Š à¦°à§‡à¦œà¦¾à¦²à§à¦Ÿ</button>
<button onclick="show('admin')">ğŸ” Admin</button>
</nav>

<div class="container">

<!-- NOTICE -->
<div class="card section" id="notice">
<h2>ğŸ“¢ à¦¨à§‹à¦Ÿà¦¿à¦¶</h2>
<ul id="noticeList" class="list"></ul>
<div class="admin" id="noticeAdmin" style="display:none">
<input id="noticeInput" placeholder="à¦¨à§‹à¦Ÿà¦¿à¦¶ à¦²à¦¿à¦–à§à¦¨">
<button onclick="addNotice()">Add</button>
</div>
</div>

<!-- NEWS -->
<div class="card section" id="news" style="display:none">
<h2>ğŸ“° à¦–à¦¬à¦°</h2>
<ul id="newsList" class="list"></ul>
<div class="admin" id="newsAdmin" style="display:none">
<input id="newsInput" placeholder="à¦–à¦¬à¦° à¦²à¦¿à¦–à§à¦¨">
<button onclick="addNews()">Add</button>
</div>
</div>

<!-- STUDENT -->
<div class="card section" id="student" style="display:none">
<h2>ğŸ‘¨â€ğŸ“ à¦¶à¦¿à¦•à§à¦·à¦¾à¦°à§à¦¥à§€</h2>
<select id="sClass"><option>6</option><option>7</option><option>8</option><option>9</option><option>10</option></select>
<input id="sRoll" placeholder="à¦°à§‹à¦²">
<input id="sSection" placeholder="à¦¶à¦¾à¦–à¦¾">
<button onclick="findStudent()">Search</button>
<div id="studentResult"></div>

<div class="admin" id="studentAdmin" style="display:none">
<input id="sn" placeholder="à¦¨à¦¾à¦®">
<input id="sc" placeholder="à¦•à§à¦²à¦¾à¦¸">
<input id="sr" placeholder="à¦°à§‹à¦²">
<input id="ss" placeholder="à¦¶à¦¾à¦–à¦¾">
<button onclick="addStudent()">Add</button>
<ul id="studentList" class="list"></ul>
</div>
</div>

<!-- TEACHER -->
<div class="card section" id="teacher" style="display:none">
<h2>ğŸ‘©â€ğŸ« à¦¶à¦¿à¦•à§à¦·à¦•</h2>
<ul id="teacherList" class="list"></ul>
<div class="admin" id="teacherAdmin" style="display:none">
<input id="tName" placeholder="à¦¨à¦¾à¦®">
<input id="tSub" placeholder="à¦¬à¦¿à¦·à§Ÿ">
<button onclick="addTeacher()">Add</button>
</div>
</div>

<!-- RESULT -->
<div class="card section" id="result" style="display:none">
<h2>ğŸ“Š à¦°à§‡à¦œà¦¾à¦²à§à¦Ÿ</h2>
<input id="rClass" placeholder="à¦•à§à¦²à¦¾à¦¸">
<input id="rRoll" placeholder="à¦°à§‹à¦²">
<input id="rSection" placeholder="à¦¶à¦¾à¦–à¦¾">
<button onclick="findResult()">Search</button>
<div id="resultOutput"></div>

<div class="admin" id="resultAdmin" style="display:none">
<input id="rm" placeholder="à¦¨à¦®à§à¦¬à¦°">
<button onclick="addResult()">Add</button>
<ul id="resultList" class="list"></ul>
</div>
</div>

<!-- ADMIN -->
<div class="card section" id="admin" style="display:none">
<h2>ğŸ” Admin Login</h2>
<input id="user" placeholder="Username">
<input id="pass" type="password" placeholder="Password">
<button onclick="login()">Login</button>
<button onclick="logout()">Logout</button>
<p id="status"></p>
</div>

</div>

<footer>Â© 2026 Gobindapur Govt. High School</footer>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
firebase.initializeApp({
  apiKey: "AIzaSyA0loay6NSdcRQJ5q_qWCbvzQW10rgErV4",
  authDomain:"gghs-fcfe6.firebaseapp.com",
  databaseURL:"https://gghs-fcfe6-default-rtdb.firebaseio.com",
  projectId:"gghs-fcfe6"
});

const db=firebase.database();
let admin=false;
const ADMIN_USER="HKuk07";
const ADMIN_PASS="07122010";

function show(id){
 document.querySelectorAll('.section').forEach(s=>{s.style.display="none";s.classList.remove("fade");});
 let el=document.getElementById(id);
 el.style.display="block"; void el.offsetWidth; el.classList.add("fade");
}

function login(){
 if(user.value===ADMIN_USER && pass.value===ADMIN_PASS){
   admin=true; status.innerText="Logged In";
   document.querySelectorAll('.admin').forEach(a=>a.style.display="block");
   show('notice');
 }else alert("Wrong Login");
}

function logout(){
 admin=false; status.innerText="Logged Out";
 document.querySelectorAll('.admin').forEach(a=>a.style.display="none");
}

/* Add */
function addNotice(){db.ref("notices").push({text:noticeInput.value});noticeInput.value="";}
function addNews(){db.ref("news").push({text:newsInput.value});newsInput.value="";}
function addStudent(){db.ref("students").push({name:sn.value,class:sc.value,roll:sr.value,section:ss.value});}
function addTeacher(){db.ref("teachers").push({name:tName.value,sub:tSub.value});}
function addResult(){db.ref("results").push({class:rClass.value,roll:rRoll.value,section:rSection.value,marks:rm.value});}

/* Delete */
function del(path,key){db.ref(path+"/"+key).remove();}

/* Realtime Render */
db.ref("notices").on("value",snap=>{
 noticeList.innerHTML="";
 snap.forEach(c=>noticeList.innerHTML+=`<li>${c.val().text}${admin?` <button onclick="del('notices','${c.key}')">X</button>`:""}</li>`);
});

db.ref("news").on("value",snap=>{
 newsList.innerHTML="";
 snap.forEach(c=>newsList.innerHTML+=`<li>${c.val().text}${admin?` <button onclick="del('news','${c.key}')">X</button>`:""}</li>`);
});

db.ref("teachers").on("value",snap=>{
 teacherList.innerHTML="";
 snap.forEach(c=>teacherList.innerHTML+=`<li>${c.val().name} (${c.val().sub})${admin?` <button onclick="del('teachers','${c.key}')">X</button>`:""}</li>`);
});

db.ref("students").on("value",snap=>{
 studentList.innerHTML="";
 snap.forEach(c=>studentList.innerHTML+=`<li>${c.val().name} | ${c.val().class}-${c.val().roll}${admin?` <button onclick="del('students','${c.key}')">X</button>`:""}</li>`);
});

db.ref("results").on("value",snap=>{
 resultList.innerHTML="";
 snap.forEach(c=>resultList.innerHTML+=`<li>${c.val().class}-${c.val().roll} ${c.val().marks}${admin?` <button onclick="del('results','${c.key}')">X</button>`:""}</li>`);
});

/* Search */
function findStudent(){
 db.ref("students").orderByChild("roll").equalTo(sRoll.value).once("value",snap=>{
   let found=false;
   snap.forEach(c=>{
     let s=c.val();
     if(s.class===sClass.value && s.section===sSection.value){
       found=true;
       studentResult.innerHTML=`Name: ${s.name}<br>Class: ${s.class}<br>Roll: ${s.roll}<br>Section: ${s.section}`;
     }
   });
   if(!found) studentResult.innerHTML="Not Found";
 });
}

function findResult(){
 db.ref("results").orderByChild("roll").equalTo(rRoll.value).once("value",snap=>{
   let found=false;
   snap.forEach(c=>{
     let r=c.val();
     if(r.class===rClass.value && r.section===rSection.value){
       found=true;
       resultOutput.innerHTML=`Class: ${r.class}<br>Roll: ${r.roll}<br>Section: ${r.section}<br>Marks: ${r.marks}`;
     }
   });
   if(!found) resultOutput.innerHTML="Not Found";
 });
}
</script>

</body>
 </html>

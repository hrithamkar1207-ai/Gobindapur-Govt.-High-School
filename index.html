<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Gobindapur Govt. High School</title>

<style>
body{margin:0;font-family:Arial;background:#f4f6f8}
.hero{position:relative;height:220px}
.hero img{width:100%;height:100%;object-fit:cover}
.hero-text{position:absolute;inset:0;background:rgba(0,0,0,.55);color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center}
nav{background:#084298;padding:10px;text-align:center}
nav button{background:#0b5ed7;color:#fff;border:none;padding:10px 16px;margin:4px;border-radius:20px;font-size:14px}
.container{padding:15px}
.card{background:#fff;padding:15px;border-radius:12px;box-shadow:0 3px 6px rgba(0,0,0,.15);margin-bottom:15px}
select,input,button{width:100%;padding:10px;margin:6px 0}
.admin{background:#eef;padding:10px;border-radius:10px;margin-top:10px}
.list li{margin:6px 0}
.list button{width:auto;padding:4px 10px;background:red;color:#fff;border:none;border-radius:12px}
footer{background:#0b5ed7;color:#fff;text-align:center;padding:10px}
.fade{animation:fade .5s}
@keyframes fade{from{opacity:0;transform:scale(.95)}to{opacity:1}}
</style>
</head>

<body>

<header class="hero">
<img src="school.jpg">
<div class="hero-text">
<h1>Gobindapur Govt. High School</h1>
<p>Official School Website</p>
</div>
</header>

<nav>
<button onclick="show('notice')">ğŸ“¢ à¦¨à§‹à¦Ÿà¦¿à¦¶</button>
<button onclick="show('news')">ğŸ“° à¦–à¦¬à¦°</button>
<button onclick="show('student')">ğŸ‘¨â€ğŸ“ à¦¶à¦¿à¦•à§à¦·à¦¾à¦°à§à¦¥à§€</button>
<button onclick="show('teacher')">ğŸ‘©â€ğŸ« à¦¶à¦¿à¦•à§à¦·à¦•</button>
<button onclick="show('result')">ğŸ“Š à¦°à§‡à¦œà¦¾à¦²à§à¦Ÿ</button>
<button onclick="show('admin')">ğŸ” Admin</button>
</nav>

<div class="container">

<div class="card section" id="notice">
<h2>ğŸ“¢ à¦¨à§‹à¦Ÿà¦¿à¦¶</h2>
<ul id="noticeList" class="list"></ul>
<div class="admin" id="noticeAdmin" style="display:none">
<input id="noticeInput" placeholder="à¦¨à§‹à¦Ÿà¦¿à¦¶ à¦²à¦¿à¦–à§à¦¨">
<button onclick="addNotice()">Add</button>
</div>
</div>

<div class="card section" id="news" style="display:none">
<h2>ğŸ“° à¦–à¦¬à¦°</h2>
<ul id="newsList" class="list"></ul>
<div class="admin" id="newsAdmin" style="display:none">
<input id="newsInput" placeholder="à¦–à¦¬à¦° à¦²à¦¿à¦–à§à¦¨">
<button onclick="addNews()">Add</button>
</div>
</div>

<div class="card section" id="student" style="display:none">
<h2>ğŸ‘¨â€ğŸ“ à¦¶à¦¿à¦•à§à¦·à¦¾à¦°à§à¦¥à§€</h2>
<select id="sClass"><option value="">à¦•à§à¦²à¦¾à¦¸</option><option>6</option><option>7</option><option>8</option><option>9</option><option>10</option></select>
<select id="sRoll"></select>
<select id="sSection"><option value="">à¦¶à¦¾à¦–à¦¾</option><option>Science</option><option>Arts</option><option>A</option><option>B</option></select>
<button onclick="findStudent()">Search</button>
<div id="studentResult"></div>

<div class="admin" id="studentAdmin" style="display:none">
<input id="sn" placeholder="à¦¨à¦¾à¦®">
<input id="sc" placeholder="à¦•à§à¦²à¦¾à¦¸">
<input id="sr" placeholder="à¦°à§‹à¦²">
<input id="ss" placeholder="à¦¶à¦¾à¦–à¦¾">
<button onclick="addStudent()">Add</button>
<ul id="studentList" class="list"></ul>
</div>
</div>

<div class="card section" id="teacher" style="display:none">
<h2>ğŸ‘©â€ğŸ« à¦¶à¦¿à¦•à§à¦·à¦•</h2>
<ul id="teacherList" class="list"></ul>
<div class="admin" id="teacherAdmin" style="display:none">
<input id="tName" placeholder="à¦¨à¦¾à¦®">
<input id="tSub" placeholder="à¦¬à¦¿à¦·à§Ÿ">
<button onclick="addTeacher()">Add</button>
</div>
</div>

<div class="card section" id="result" style="display:none">
<h2>ğŸ“Š à¦°à§‡à¦œà¦¾à¦²à§à¦Ÿ</h2>
<select id="rClass"><option value="">à¦•à§à¦²à¦¾à¦¸</option><option>6</option><option>7</option><option>8</option><option>9</option><option>10</option></select>
<select id="rRoll"></select>
<select id="rSection"><option value="">à¦¶à¦¾à¦–à¦¾</option><option>Science</option><option>Arts</option><option>A</option><option>B</option></select>
<select id="rExam"><option>Annual Examination 2025</option></select>
<button onclick="findResult()">Search</button>
<div id="resultOutput"></div>

<div class="admin" id="resultAdmin" style="display:none">
<input id="rm" placeholder="à¦ªà§à¦°à¦¾à¦ªà§à¦¤ à¦¨à¦®à§à¦¬à¦°">
<button onclick="addResult()">Add</button>
<ul id="resultList" class="list"></ul>
</div>
</div>

<div class="card section" id="admin" style="display:none">
<h2>ğŸ” Admin Login</h2>
<input id="user" placeholder="Username">
<input id="pass" type="password" placeholder="Password">
<button onclick="login()">Login</button>
<button onclick="logout()">Logout</button>
<p id="status"></p>
</div>

</div>

<footer>Â© 2026 Gobindapur Govt. High School</footer>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<script>
firebase.initializeApp({
 apiKey:"AIzaSyA0loay6NSdcRQJ5q_qWCbvzQW10rgErV4",
 authDomain:"gghs-fcfe6.firebaseapp.com",
 databaseURL:"https://gghs-fcfe6-default-rtdb.firebaseio.com",
 projectId:"gghs-fcfe6"
});

const db=firebase.database();
const ref={
 notice:db.ref("notices"),
 news:db.ref("news"),
 students:db.ref("students"),
 teachers:db.ref("teachers"),
 results:db.ref("results")
};

for(let i=1;i<=150;i++){
 sRoll.innerHTML+=`<option>${i}</option>`;
 rRoll.innerHTML+=`<option>${i}</option>`;
}

let admin=false;
let adminUser="HKuk07", adminPass="07122010";
let notices=[],news=[],students=[],teachers=[],results=[];

Object.keys(ref).forEach(k=>{
 ref[k].on("value",s=>{
   window[k]=[];
   s.forEach(d=>window[k].push({id:d.key,...(typeof d.val()==="object"?d.val():{text:d.val()})}));
   render();
 });
});

function show(id){
 document.querySelectorAll('.section').forEach(s=>{
   s.style.display="none"; s.classList.remove("fade");
 });
 let el=document.getElementById(id);
 el.style.display="block";
 void el.offsetWidth;
 el.classList.add("fade");
}

function login(){
 if(user.value===adminUser && pass.value===adminPass){
   admin=true; status.innerText="âœ… Logged In";
   noticeAdmin.style.display=newsAdmin.style.display=studentAdmin.style.display=
   teacherAdmin.style.display=resultAdmin.style.display="block";
   show("notice");
 } else alert("Wrong Login");
}
function logout(){
 admin=false; status.innerText="Logged Out";
 noticeAdmin.style.display=newsAdmin.style.display=studentAdmin.style.display=
 teacherAdmin.style.display=resultAdmin.style.display="none";
}

function addNotice(){ref.notice.push(noticeInput.value);noticeInput.value="";}
function addNews(){ref.news.push(newsInput.value);newsInput.value="";}
function addStudent(){ref.students.push({name:sn.value,class:sc.value,roll:sr.value,section:ss.value});}
function addTeacher(){ref.teachers.push({name:tName.value,sub:tSub.value});}
function addResult(){ref.results.push({class:rClass.value,roll:rRoll.value,section:rSection.value,exam:rExam.value,marks:rm.value});}
function del(r,id){ref[r].child(id).remove();}

function findStudent(){
 let s=students.find(x=>x.class===sClass.value&&x.roll===sRoll.value&&x.section===sSection.value);
 studentResult.innerHTML=s?`<div class="admin">${s.name}</div>`:"Not Found";
}

function findResult(){
 let r=results.find(x=>x.class===rClass.value&&x.roll===rRoll.value&&x.section===rSection.value);
 let s=students.find(x=>x.class===rClass.value&&x.roll===rRoll.value&&x.section===rSection.value);
 resultOutput.innerHTML=(r&&s)?`<div class="admin">${s.name}<br>${r.marks}</div>`:"Not Found";
}

function render(){
 noticeList.innerHTML=notices.map(n=>`<li>${n.text||n}${admin?` <button onclick="del('notice','${n.id}')">X</button>`:""}</li>`).join("");
 newsList.innerHTML=news.map(n=>`<li>${n.text||n}${admin?` <button onclick="del('news','${n.id}')">X</button>`:""}</li>`).join("");
 teacherList.innerHTML=teachers.map(t=>`<li>${t.name} (${t.sub})${admin?` <button onclick="del('teachers','${t.id}')">X</button>`:""}</li>`).join("");
 studentList.innerHTML=students.map(s=>`<li>${s.name}${admin?` <button onclick="del('students','${s.id}')">X</button>`:""}</li>`).join("");
 resultList.innerHTML=results.map(r=>`<li>${r.class}-${r.roll} ${r.marks}${admin?` <button onclick="del('results','${r.id}')">X</button>`:""}</li>`).join("");
}
</script>

</body>
  </html>
